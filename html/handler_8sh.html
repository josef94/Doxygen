<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fast and Curious: Handler/Release/handler.sh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fast and Curious
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('handler_8sh.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">handler.sh File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main script which handles everything on the NanoPi.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a71f530f1f32dbca56a6af8a5fbbfbe49"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8sh.html#a71f530f1f32dbca56a6af8a5fbbfbe49">duration</a> = 600</td></tr>
<tr class="memdesc:a71f530f1f32dbca56a6af8a5fbbfbe49"><td class="mdescLeft">&#160;</td><td class="mdescRight">A public variable which holds an amount of time.  <a href="#a71f530f1f32dbca56a6af8a5fbbfbe49">More...</a><br /></td></tr>
<tr class="separator:a71f530f1f32dbca56a6af8a5fbbfbe49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9927793f1f69327ecd9ebf938e0deb92"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8sh.html#a9927793f1f69327ecd9ebf938e0deb92">startTime</a> = &quot;9030000&quot;</td></tr>
<tr class="memdesc:a9927793f1f69327ecd9ebf938e0deb92"><td class="mdescLeft">&#160;</td><td class="mdescRight">A public variable which holds the start time of the video.  <a href="#a9927793f1f69327ecd9ebf938e0deb92">More...</a><br /></td></tr>
<tr class="separator:a9927793f1f69327ecd9ebf938e0deb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2180dccc1f78340699ec15ad1f70871e"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8sh.html#a2180dccc1f78340699ec15ad1f70871e">endTime</a> = &quot;9190000&quot;</td></tr>
<tr class="memdesc:a2180dccc1f78340699ec15ad1f70871e"><td class="mdescLeft">&#160;</td><td class="mdescRight">A public variable which holds the end time of the video.  <a href="#a2180dccc1f78340699ec15ad1f70871e">More...</a><br /></td></tr>
<tr class="separator:a2180dccc1f78340699ec15ad1f70871e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf393272c04d0ef5eeb97aa37b035a9c"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8sh.html#acf393272c04d0ef5eeb97aa37b035a9c">isRunningVideo</a> = false</td></tr>
<tr class="memdesc:acf393272c04d0ef5eeb97aa37b035a9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A public variable which holds a Boolean that indicates if the video is running right now.  <a href="#acf393272c04d0ef5eeb97aa37b035a9c">More...</a><br /></td></tr>
<tr class="separator:acf393272c04d0ef5eeb97aa37b035a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b96bf2397ff608d08041785cebecb7"><td class="memItemLeft" align="right" valign="top">Exported String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8sh.html#ac3b96bf2397ff608d08041785cebecb7">LD_LIBRARY_PATH</a> = /usr/local/lib</td></tr>
<tr class="memdesc:ac3b96bf2397ff608d08041785cebecb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The library path export for the mjpg-streamer.  <a href="#ac3b96bf2397ff608d08041785cebecb7">More...</a><br /></td></tr>
<tr class="separator:ac3b96bf2397ff608d08041785cebecb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main script which handles everything on the NanoPi. </p>
<p>This script is the main script of Fast and Curious and handles all other processes. It starts when the NanoPi is started up and runs the whole time. This script checks if the other processes, like the pre-process and the post-process are still running and starts them, if they are not busy. It also handles every user input from the website and the logic, that the videos only starts from 5 am to 9 pm. </p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="a71f530f1f32dbca56a6af8a5fbbfbe49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71f530f1f32dbca56a6af8a5fbbfbe49">&#9670;&nbsp;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">duration = 600</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A public variable which holds an amount of time. </p>
<p>This variable was used to test the program and let the main loop only runs for 10 minutes. It is not used anymore. </p>

</div>
</div>
<a id="a2180dccc1f78340699ec15ad1f70871e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2180dccc1f78340699ec15ad1f70871e">&#9670;&nbsp;</a></span>endTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">endTime = &quot;9190000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A public variable which holds the end time of the video. </p>
<p>This variable is used to set the end time for the main process. Videos will only be recorded before this time. The number begins with a 9 to reduce integer problems. After that, the time is shown in UTC. In this case it means 190000 UTC as 21:00:00 local time. </p>

</div>
</div>
<a id="acf393272c04d0ef5eeb97aa37b035a9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf393272c04d0ef5eeb97aa37b035a9c">&#9670;&nbsp;</a></span>isRunningVideo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isRunningVideo = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A public variable which holds a Boolean that indicates if the video is running right now. </p>
<p>This variable is used to know if a video is currently running. If it is running, the pre-process must wait until more than one videos are in the video folder. This is necessary to ensure, that the video is finished before the next process starts with it. When no video is running, the pre-process can start the video even if there is only one video in the folder. </p>

</div>
</div>
<a id="ac3b96bf2397ff608d08041785cebecb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b96bf2397ff608d08041785cebecb7">&#9670;&nbsp;</a></span>LD_LIBRARY_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exported String LD_LIBRARY_PATH = /usr/local/lib</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The library path export for the mjpg-streamer. </p>
<p>This export library path must be set right before the program mjpg-streamer is called to ensure, that the program works correctly. </p>

</div>
</div>
<a id="a9927793f1f69327ecd9ebf938e0deb92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9927793f1f69327ecd9ebf938e0deb92">&#9670;&nbsp;</a></span>startTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">startTime = &quot;9030000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A public variable which holds the start time of the video. </p>
<p>This variable is used to set the start time for the main process. Videos will only be recorded after this time. The number begins with a 9 to reduce integer problems. After that, the time is shown in UTC. In this case it means 030000 UTC as 05:00:00 local time. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0a3594e24a6d96d2bb292642b470f66e.html">Handler</a></li><li class="navelem"><a class="el" href="dir_b5696ac2cd446dd06c9c800b54e533c2.html">Release</a></li><li class="navelem"><a class="el" href="handler_8sh.html">handler.sh</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
